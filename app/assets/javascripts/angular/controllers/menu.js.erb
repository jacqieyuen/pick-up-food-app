app.controller('MenuCtrl', ['$scope', '$http', '$auth', 'UserService', '$localStorage', 'URL_CONSTANTS', '$anchorScroll', '$location', '$window', '$document',function($scope, $http, $auth, UserService, $localStorage, URL_CONSTANTS, $anchorScroll, $location, $window, $document){

  $anchorScroll.yOffset = 140;

  $scope.menuScroll=false
  $document.on('scroll', function() {
    // do your things like logging the Y-axis

    if ($window.scrollY > (window.innerHeight)*.15){
      $scope.menuScroll = true
    }else {
      $scope.menuScroll = false;
    }
    $scope.$apply();
  });

   $scope.gotoAnchor = function(x) {
      var newHash = 'anchor' + x;
      if ($location.hash() !== newHash) {
        // set the $location.hash to `newHash` and
        // $anchorScroll will automatically scroll to it
        $location.hash(x);
      } else {
        // call $anchorScroll() explicitly,
        // since $location.hash hasn't changed
        $anchorScroll();
      }
    };


  $scope.message = "Menu Page";


  var url = URL_CONSTANTS.domain;

  $http.get(url + '/api/categories').success(function(response){
    // console.log(response);
    $scope.categories = response;
  });

  $http.get(url + '/api/products').success(function(response){
    $scope.products = response;
    // console.log($scope.products);
  });

  $scope.addToCheckout = function(add_id) {
    $scope.result = $scope.products.filter(function(obj){
      return obj.id == add_id
    })[0];
    $scope.checkoutList.push($scope.result);

    console.log("adding this item below to basket")
    console.log($scope.result);
  }

}]);